<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorator="layouts/layout"
>
<!-- index.html 고유 CSS 추가 -->
<th:block layout:fragment="css"></th:block>

<!-- index.html 고유 스크립트 추가 -->
<th:block layout:fragment="script">
    <script>
        function dataSend() {
            var messageDTO = {
                food: "chicken",
                price:"80",
                maker:"cheolheeLee"
            };
            var data = JSON.stringify(messageDTO);

            console.log(data);

            $.ajax({
                type:"POST",
                url: "/chlee/food",
                data: data,
                dataType: "json",
		        contentType:"application/json;charset=UTF-8",
		        success : function(data, status, xhr) {
		            console.log(data);
                    $("#resultFood").replaceWith(data.food);
                    $("#resultPrice").replaceWith(data.price);
                    $("#resultMaker").replaceWith(data.maker);
		        }, error: function(jqXHR, textStatus, errorThrown) {

		        }
            });
        }
    </script>

</th:block>

<div layout:fragment="content">
    <div style="border: 1px solid red">
        this is view/ajax/list.html
    </div>

    <input id="food" type="text" value=""/>

    <h1 id="resultFood">미정</h1>
    <h1 id="resultPrice">미정</h1>
    <h1 id="resultMaker">미정</h1>

    <button class="btn btn-sm btn-primary" onclick="dataSend()">ajax 요청</button>
</div>

</html>